<!-- availability.html -->
<head >
<link rel="stylesheet" type="text/css" href="main.css">
</head>
<div class="page-header" ng-init="availability.getAvailability(availability.date)" >
  <h1>Availability</h1>
</div>

    <div class="row" >
      <div class="col-sm-6">
        <div class="form-group">
            <label for="date">Date</label>
           <input type="date" min="{{ availability.date | date: 'yyyy-MM-dd' }}" max="{{ availability.maxDate | date: 'yyyy-MM-dd' }}" class="form-control" ng-model="availability.date" ng-change="availability.getAvailability(availability.date)"> 
        </div>
      </div>

      <div class="col-sm-6">
          <br>
          <a href="/bookings/create"><button class="btn btn-success" style="float: right">Book Now</button></a>
      </div>
    </div>

<table class="table table-bordered table-striped">
  <thead>
    <tr style="background-color: #95a5a6; text-align: center">
      <th>Room<br>(Capacity)</th>
      <th ng-repeat="obj in availability.bookings">{{ obj.room.name }}<br>( {{ obj.room.capacity }} )</th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="time in availability.times">
      <td id="nopad">{{ time }}</td>
      <td ng-repeat="booklist in availability.bookings" id="nopad">
        <div ng-repeat="singlebook in booklist.bookings">
          <div ng-if="!availability.isAvailable(singlebook, time)" style="background-color: #c0392b">X</div>
          <!-- <div ng-if="availability.isAvailable(singlebook, time)" onclick="location.href='/bookings/create';" id="mouseover">BOOK</div> -->
        </div>
      </td>
    </tr>
  </tbody>
</table>